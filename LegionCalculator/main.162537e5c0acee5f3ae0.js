(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"6ap3":function(e,t,n){(t=n("JPst")(!1)).push([e.i,"body {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\nform {\r\n    margin-bottom: 0;\r\n}\r\n\r\n#title {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n#header {\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  width: 100%;\r\n  padding-right: 20px;\r\n}\r\n\r\n#subtitle {\r\n    text-align: center;\r\n}\r\n\r\n#legionBoard {\r\n    border-spacing: 0;\r\n    border-collapse: collapse;\r\n}\r\n\r\n#legionBoard td.legionCell {\r\n    width: 25px;\r\n    height: 27px;\r\n    border-style: solid;\r\n    border-width: 1px;\r\n}\r\n\r\n#legion {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n#legionFooter {\r\n    margin-top: 10px;\r\n}\r\n\r\n#options {\r\n    display: flex;\r\n    flex-direction: column;\r\n    text-align: end;\r\n}\r\n\r\n#checkboxes {\r\n    margin-bottom: 10px;\r\n}\r\n\r\n#darkModeLabel {\r\n    padding-top: 0px;\r\n}\r\n\r\n#iterationTime {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n}\r\n\r\n#iterations, #time, #resetButton {\r\n  visibility: hidden;\r\n}\r\n\r\n#boardFilled {\r\n    margin-bottom: 7px;\r\n}\r\n\r\n#middlelabels {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n\r\n#pieceForm {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n    padding-right: 20px;\r\n}\r\n\r\n#pieceForm td.pieceCell {\r\n    width: 9px;\r\n    height: 9px;\r\n    border-style: solid;\r\n    border-width: 0px;\r\n}\r\n\r\n.pieceLabel {\r\n    width: 30px; \r\n}\r\n\r\n.new_line {\r\n    width: 100%;\r\n    display: block;\r\n    text-align: center;\r\n    margin-top: 1em;\r\n    font-style: italic;\r\n    font-weight: 100;\r\n    font-size: medium;\r\n}\r\n\r\n#toast {\r\n    position: fixed;\r\n    bottom: 5px;\r\n    right: 10px;\r\n    z-index: 9999;\r\n}\r\n\r\n.title-color {\r\n    color: white\r\n}\r\n\r\n.href-color {\r\n    color:rgb(155, 147, 39)\r\n}\r\n\r\n.toast-header {\r\n    /* background-color: #D33E43; */\r\n    color: black;\r\n}\r\n\r\n.piece {\r\n    display: flex;\r\n    flex-direction: row;\r\n    margin-bottom: 15px;\r\n    justify-content: flex-end;\r\n}\r\n\r\n#resetButton {\r\n    margin-top: 5px;\r\n}\r\n\r\n#failText {\r\n    text-align: right;\r\n    visibility: hidden;\r\n}\r\n\r\n#bigClick, #liveSolve {\r\n    margin-left: 20px;\r\n}\r\n\r\n#pieceForm input {\r\n    width: 50px;\r\n    height: 20px;\r\n    margin-left: 10px;\r\n}\r\n\r\n.centerMiddleChild {\r\n    display: flex;\r\n}\r\n\r\n.centerMiddleChild > :nth-child(1), .centerMiddleChild > :nth-child(3) {\r\n    flex: 1;\r\n}\r\n\r\n#instructions {\r\n    margin-left: 30px;\r\n}\r\n\r\n#paragraph {\r\n    padding-right: 80px;\r\n}\r\nbody {\r\n    background: #1e2226;\r\n}\r\n\r\na:hover {\r\n    text-decoration: none;\r\n    outline: none;\r\n}\r\n\r\n* {\r\n    transition: 0.3s;\r\n}\r\n\r\n.form-group, .table, .form-row, .display-4 {\r\n    color: #fff;\r\n}\r\n\r\n.tableCheckBox{\r\n    text-align: center !important; /* center checkbox horizontally */\r\n    vertical-align: middle !important; /* center checkbox vertically */\r\n}\r\n\r\n.title-color{\r\n    text-decoration: underline;\r\n    text-decoration-color: #e0ca05;\r\n}\r\n\r\n.navbar {\r\n    background: #16191c !important;\r\n}\r\n\r\n.form-container {\r\n    background: #2a2e33;\r\n    border-radius: 8px;\r\n    border: 5px solid #21262a;\r\n    padding: 15px 35px;\r\n}\r\n\r\n.table th, .table td {\r\n    vertical-align: middle;\r\n}\r\n\r\n.smaller {\r\n    font-size: 0.85rem !important;\r\n    font-weight: 400 !important;\r\n}\r\n\r\n.bottom-margin {\r\n    margin-bottom: 1rem;\r\n}\r\n\r\n.bottom-margin-big {\r\n    margin-bottom: 2rem;\r\n}\r\n\r\n.top-margin {\r\n    margin-top: 1rem;\r\n}\r\n\r\n.left-margin {\r\n    margin-left: 1rem;\r\n}\r\n\r\n.btn-outline-secondary:hover, .btn-outline-secondary:not(:disabled):not(.disabled):active, .btn-outline-secondary:not(:disabled):not(.disabled).active, .show > .btn-outline-secondary.dropdown-toggle {\r\n    color: #fff !important;\r\n}\r\n.no-bottom-margin{\r\n    margin-bottom: 0;\r\n}\r\n\r\n.no-padding{\r\n    padding:0\r\n}\r\n\r\n.padding-7px{\r\n    padding: 7px\r\n}\r\n\r\n.jumbotron {\r\n    padding: 4rem 2rem;\r\n    /* background: linear-gradient(rgba(0,0,0,.75), rgba(0,0,0,.75)), url(bg.jpg); */\r\n    background: #2a2e33;\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n}\r\n\r\n.nav-item:hover, .navbar-text:hover, .active{\r\n    color: #e0ca05 !important\r\n}\r\n\r\n.footer {\r\n    position: sticky;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: 60px;\r\n    display: flex;\r\n    align-items: center;\r\n    border-top: 5px solid #21262a;\r\n    background-color: #16191C;\r\n}\r\n\r\nhtml {\r\n    position: relative;\r\n    min-height: 100%;\r\n}\r\n\r\n.display-4 {\r\n    font-size: 32px;\r\n    margin-bottom: 0;\r\n    font-weight: 300;\r\n}\r\n\r\n.display-4>span {\r\n    font-weight: 900;\r\n    color: #e0ca05;\r\n}\r\n\r\n.lead {\r\n    color: rgba(155, 255, 138, 0.9);\r\n    font-weight: 300;\r\n}\r\n\r\n.small {\r\n    font-size: 18px;\r\n    margin-bottom: 0;\r\n    color: rgba(255, 255, 255, .9);\r\n    font-weight: 300;\r\n}\r\n\r\n.btnStep {\r\n    padding: 5px 7px;\r\n    border: 1px solid #e0ca05;\r\n}\r\n\r\n.btnStep:focus {\r\n    padding: 5px 7px;\r\n    border: 1px solid #e0ca05 !important;\r\n}\r\n\r\n.btnStep>div>h6 {\r\n    color: #e0ca05;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.btnStep>div {\r\n    color: #e0ca05;\r\n    font-size: 16px;\r\n}\r\n\r\n.btnStep:hover {\r\n    border: 1px solid #aadb24;\r\n    background: #0b2331;\r\n}\r\n\r\n.btnStep:hover .btnDiv {\r\n    color: #aadb24;\r\n}\r\n\r\n.btnStep:hover .btnDiv>h6 {\r\n    color: #aadb24;\r\n}\r\n\r\n.btnStep:active {\r\n    background: #0b2331 !important;\r\n    border: 1px solid #aadb24 !important;\r\n}\r\n\r\n.btnStep:visited {\r\n    background: #0b2331 !important;\r\n    border: 1px solid #aadb24 !important;\r\n}\r\n\r\n.btnStep:active .btnDiv {\r\n    color: #aadb24;\r\n}\r\n\r\n.btnStep:active .btnDiv>h6 {\r\n    color: #aadb24;\r\n}\r\n\r\ntextarea:focus, input:focus{\r\n    box-shadow: none !important;\r\n}\r\n\r\n*:focus {\r\n    box-shadow: none !important;\r\n}\r\n\r\n.form-control {\r\n    border: 0;\r\n    background: rgba(0, 0, 0, .3);\r\n    color: #bababa;\r\n}\r\n\r\n.form-control:focus {\r\n    background: rgba(0, 0, 0, .6);\r\n    color: #fff9f9;\r\n}\r\n\r\ntr {\r\n    background: none !important;\r\n}\r\n\r\ntable {\r\n    background: rgba(0, 0, 0, .1);\r\n    border-radius: 5px;\r\n}\r\n\r\n.popover {\r\n    border: 0;\r\n    background: none;\r\n    margin-left: 15px;\r\n}\r\n\r\n.arrow,\r\n.arrow::before {\r\n    position: absolute;\r\n    width: 14px;\r\n    height: 14px;\r\n    margin-left: 3px;\r\n    z-index: -1;\r\n}\r\n\r\n.arrow::before {\r\n    z-index: 2;\r\n    content: '';\r\n    transform: rotate(45deg);\r\n    background: #192026;\r\n}\r\n\r\n.popover-body {\r\n    background: #192026;\r\n    color: #eee;\r\n    border-radius: 0 0 10px 10px;\r\n    font-weight: 300;\r\n}\r\n\r\n.popover-header {\r\n    border-radius: 10px 10px 0 0;\r\n    background: #0c0f11;\r\n    color: #e0ca05;\r\n    border-bottom: 0;\r\n}\r\n\r\n/* checkbox again fml */\r\n\r\n.checkbox {\r\n    display: inline-flex;\r\n    cursor: pointer;\r\n    position: relative;\r\n}\r\n\r\n.checkbox > span {\r\n    color: #fff;\r\n    padding: 0.25rem;\r\n}\r\n\r\n.checkbox > input {\r\n    height: 15px;\r\n    width: 15px;\r\n    border-radius: 250000px;\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    -o-appearance: none;\r\n    appearance: none;\r\n    border: 1px solid #e0ca05;\r\n    outline: none;\r\n    transition-duration: 0.3s;\r\n    background: none;\r\n    cursor: pointer;\r\n    margin-top: .6rem;\r\n}\r\n\r\n.checkbox > input:checked {\r\n    border: 1px solid #e0ca05;\r\n    background-color: #e0ca05;\r\n}\r\n\r\n.form-check {\r\n    padding-left: 0;\r\n}\r\n\r\n.checkBoxForm {\r\n    padding: 5px 20px;\r\n    align-items: center;\r\n}\r\n\r\n.checkBoxForm>div {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    padding: 5px 0;\r\n}\r\n\r\nhr {\r\n    height: 1px;\r\n    border: 0;\r\n    background: rgba(255, 255, 255, .1);\r\n}\r\n\r\n.checkbox2 {\r\n    display: inline-flex;\r\n    cursor: pointer;\r\n    position: relative;\r\n}\r\n\r\n.checkbox2 > span {\r\n    color: #fff;\r\n    padding: 0.25rem;\r\n}\r\n\r\n.checkbox2 > input {\r\n    height: 15px;\r\n    width: 15px;\r\n    border-radius: 250000px;\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    -o-appearance: none;\r\n    appearance: none;\r\n    border: 1px solid #e0ca05;\r\n    outline: none;\r\n    transition-duration: 0.3s;\r\n    background: none;\r\n    cursor: pointer;\r\n    margin-top: 9px;\r\n}\r\n\r\n.checkbox2 > input:checked {\r\n    border: 1px solid #e0ca05;\r\n    background-color: #e0ca05;\r\n    \r\n}\r\n\r\n.checkbox2 > input:checked + span::before {\r\n    content: '\\2713';\r\n    font-weight: 900;\r\n    display: block;\r\n    text-align: center;\r\n    color: black;\r\n    position: absolute;\r\n    left: 0.15rem;\r\n    top: 0.37rem;\r\n}\r\n\r\n#hasLabPiece, #totalAttackers, #attackersAssigned{\r\n    text-align: center\r\n}\r\n\r\n.checkbox3 {\r\n    display: inline-flex;\r\n    cursor: pointer;\r\n    position: relative;\r\n}\r\n\r\n.checkbox3 > span {\r\n    color: #fff;\r\n    padding: 0.25rem;\r\n}\r\n\r\n.checkbox3 > input {\r\n    height: 15px;\r\n    width: 15px;\r\n    border-radius: 250000px;\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    -o-appearance: none;\r\n    appearance: none;\r\n    border: 1px solid #e0ca05;\r\n    outline: none;\r\n    transition-duration: 0.3s;\r\n    background: none;\r\n    cursor: pointer;\r\n    margin-top: 9px;\r\n}\r\n\r\n.checkbox3 > input:checked {\r\n    border: 1px solid #e0ca05;\r\n    background-color: #e0ca05;\r\n    \r\n}\r\n\r\n.checkbox3 > input:checked + span::before {\r\n    content: '\\2713';\r\n    font-weight: 900;\r\n    display: block;\r\n    text-align: center;\r\n    color: black;\r\n    position: absolute;\r\n    left: -1.1em;\r\n    top: 0.27rem;\r\n}\r\n\r\n.spec-tm{\r\n    margin-top: 0.5em;\r\n}\r\n\r\n.boardInfo {\r\n    margin-top: 0;\r\n    margin-bottom: 0.25rem;\r\n}\r\n\r\n.noPadding {\r\n    padding: 0;\r\n}\r\n\r\n.btnSubmit {\r\n    background: linear-gradient(-45deg, #9b8c02 0%, rgb(90, 100, 1) 80%);\r\n    font-size: 18px;\r\n    transition: 0.6s;\r\n    padding: 10px 15px;\r\n    border-radius: 7px;\r\n    border: 0 !important;\r\n    outline: 0 !important;\r\n    box-shadow: 0 !important;\r\n}\r\n\r\n.btnSubmit:disabled {\r\n    cursor: pointer;\r\n    transform: none;\r\n}\r\n\r\n.btnSubmit:disabled:hover {\r\n    cursor: progress;\r\n    transform: none;\r\n}\r\n\r\n.btnSubmit:hover {\r\n    transform: scale(1.1);\r\n}\r\n\r\n.nav-item:hover .small>ion-icon {\r\n    color: #e0ca05 !important;\r\n}\r\n\r\n.contData {\r\n    color: #e0ca05;\r\n    transition: .3s;\r\n}\r\n\r\n.contData:hover {\r\n    color: #e0ca05;\r\n}\r\n\r\n.form-control:disabled {\r\n    background-color: rgb(70, 73, 70)\r\n}\r\n\r\n.v-center {\r\n    display: flex;\r\n    align-items: center;\r\n }\r\n\r\n .col-centered{\r\n    float: none;\r\n    margin: 0 auto;\r\n}",""]),e.exports=t},"OmL/":function(e,t,n){var r=n("LboF"),i=n("6ap3");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},Vtdi:function(e,t,n){"use strict";n.r(t);n("OmL/");class r{constructor(e,t){this.x=e,this.y=t}}var i,o,s,a=n("LvDl"),l=n.n(a);class d{constructor(e,t,n){this.shape=e,this.amount=t,this.id=n}static createPiece(e,t){return new d(e,t,this.curId++)}get cellCount(){Object.defineProperty(this,"cellCount",{value:0,writable:!0});for(let e=0;e<this.shape.length;++e)for(let t=0;t<this.shape[e].length;++t)this.shape[e][t]>0&&this.cellCount++;return this.cellCount}get pointShape(){Object.defineProperty(this,"pointShape",{value:[]});for(let e=0;e<this.shape.length;++e)for(let t=0;t<this.shape[e].length;++t)1==this.shape[e][t]?this.pointShape.push(new c(t,e,!1)):2==this.shape[e][t]&&this.pointShape.push(new c(t,e,!0));return this.pointShape}get offCenter(){Object.defineProperty(this,"offCenter",{value:0,writable:!0});for(let e=0;e<this.shape[0].length;e++)if(0!=this.shape[0][e]){this.offCenter=e;break}return this.offCenter}get transformations(){Object.defineProperty(this,"transformations",{value:[],writable:!0});let e,t=[...this.shape];for(let n=0;n<2;n++){for(let n=0;n<4;n++){e=new Array(t[0].length).fill(0).map(()=>new Array(t.length).fill(0));for(let n=0;n<t.length;n++)for(let r=0;r<t[0].length;r++)0!=t[n][r]&&(e[t[0].length-r-1][n]=t[n][r]);t=e,this.transformations.push(new d(t,this.amount,this.id))}e=new Array(t.length).fill(0).map(()=>new Array(t[0].length).fill(0));for(let n=0;n<t.length;n++)for(let r=0;r<t[0].length;r++)0!=t[n][r]&&(e[t.length-n-1][r]=t[n][r]);t=e}return this.transformations=l.a.unionWith(this.transformations,l.a.isEqual),this.transformations}get pointTransformations(){Object.defineProperty(this,"pointTransformations",{value:[]});for(let e of this.transformations)this.pointTransformations.push(e.pointShape);return this.pointTransformations}get restrictedTransformations(){Object.defineProperty(this,"restrictedTransformations",{value:[]});for(let e of this.transformations)e.shape[0][1+e.offCenter]&&0!=e.shape[0][1+e.offCenter]||this.restrictedTransformations.push(e);return this.restrictedTransformations}get restrictedPointTransformations(){Object.defineProperty(this,"restrictedPointTransformations",{value:[]});for(let e of this.restrictedTransformations)this.restrictedPointTransformations.push(e.pointShape);return this.restrictedPointTransformations}}s=1,(o="curId")in(i=d)?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s;class c extends r{constructor(e,t,n){super(e,t),this.isMiddle=n}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p{constructor(e,t,n){h(this,"pausePromise",void 0),h(this,"pauseResolve",void 0),h(this,"iterations",void 0),h(this,"directionFree",void 0),h(this,"success",void 0),h(this,"shouldStop",void 0),this.board=e,this.pieces=t,this.onBoardUpdated=n,this.iterations=0,this.pieceLength=t.length,this.valid=!0,this.pieceNumber=0,this.transformationNumber=0,this.restrictedPieceNumber=0,this.restrictedTransformationNumber=0,this.time=(new Date).getTime(),this.middle=[];for(let e=this.board.length/2-1;e<this.board.length/2+1;e++)for(let t=this.board[0].length/2-1;t<this.board[0].length/2+1;t++)-1!=this.board[e][t]&&this.middle.push(new r(t,e));this.emptySpots=[];for(let e=0;e<this.board.length;e++)for(let t=0;t<this.board[0].length;t++)0==this.board[e][t]&&this.emptySpots.push(new r(t,e));this.restrictedSpots=[];for(let e=0;e<this.board.length;e++)for(let t=0;t<this.board[0].length;t++)this.searchSurroundings(t,e);this.longSpaces=[];for(let e=0;e<this.board.length;e++)for(let t=0;t<this.board[0].length;t++)"horizontal"==this.checkLongSpace(t,e)&&this.longSpaces.push(new r(t,e)),"vertical"==this.checkLongSpace(t,e)&&this.longSpaces.push(new r(t,e));this.firstAlgorithm=!!this.longSpaces.length}async solve(){return this.pieces.sort((e,t)=>t.amount*t.cellCount-e.amount*e.cellCount),this.pieces.push(new d([[]],0,-1)),this.restrictedSpots.sort((e,t)=>t.spotsFilled-e.spotsFilled),this.success=await this.solveInternal(),this.success}async solveInternal(e=3e4){let t,n,r,i=[],o=0;for(;this.pieces[0].amount>0||!this.valid;){if(this.shouldStop)return;if(this.valid&&0!=this.restrictedSpots.length&&this.pieces[this.restrictedPieceNumber].amount&&5!=this.directionFree&&!this.firstAlgorithm)this.restrictedPieceNumber!=this.pieceLength&&(r=this.restrictedSpots[0],n=this.pieces[this.restrictedPieceNumber].restrictedTransformations[this.restrictedTransformationNumber],this.determineDirectionFree(r),this.isPlaceable(r,n)?(i.push([0,0,this.takeFromList(this.restrictedPieceNumber),[...this.restrictedSpots],r,this.restrictedPieceNumber,this.restrictedTransformationNumber,this.directionFree,[],0,this.valid]),this.restrictedSpots.splice(0,1),this.placePiece(r,n),this.isValid(),this.restrictedPieceNumber=0,this.restrictedTransformationNumber=0):this.changeIndex(!0));else if(this.valid&&this.pieces[this.pieceNumber].amount&&(this.firstAlgorithm||0==this.restrictedSpots.length)&&5!=this.directionFree){if(this.directionFree=0,!this.firstAlgorithm)for(o=0;o<this.emptySpots.length&&0!=this.board[this.emptySpots[o].y][this.emptySpots[o].x];)o++;if(o==this.emptySpots.length)return!0;if(r=this.emptySpots[o],n=this.pieces[this.pieceNumber].transformations[this.transformationNumber],this.isPlaceable(r,n)){let e=[];for(let t=0;t<this.longSpaces.length;t++)e.push(this.longSpaces[t]);if(i.push([this.pieceNumber,this.transformationNumber,this.takeFromList(this.pieceNumber),[...this.restrictedSpots],r,0,0,0,e,o,this.valid]),this.placePiece(r,n),this.isValid(),this.firstAlgorithm){for(;o<this.emptySpots.length&&0!=this.board[this.emptySpots[o].y][this.emptySpots[o].x];)o++;if(o==this.emptySpots.length)return!0}this.pieceNumber=0,this.transformationNumber=0}else this.changeIndex(!1)}else{if(0==i.length)return!1;this.valid||(this.valid=!0),[this.pieceNumber,this.transformationNumber,t,this.restrictedSpots,r,this.restrictedPieceNumber,this.restrictedTransformationNumber,this.directionFree,this.longSpaces,o,this.valid]=i.pop(),0==this.directionFree?(this.returnToList(this.pieceNumber,t),this.takeBackPiece(r,this.pieces[this.pieceNumber].transformations[this.transformationNumber])):(this.returnToList(this.restrictedPieceNumber,t),this.takeBackPiece(r,this.pieces[this.restrictedPieceNumber].restrictedTransformations[this.restrictedTransformationNumber])),this.firstAlgorithm=!(0==this.longSpaces.length),this.firstAlgorithm?this.changeIndex(!1):this.changeIndex(0==!this.restrictedSpots.length)}this.iterations++,this.iterations%e==0&&(this.onBoardUpdated(),await new Promise(e=>setTimeout(e,0)),await this.pausePromise)}return!0}takeFromList(e){this.pieces[e].amount--;let t=this.pieces[e],n=e+1;for(;t.amount*t.cellCount<this.pieces[n].amount*this.pieces[n].cellCount;)n++;return this.pieces[e]=this.pieces[n-1],this.pieces[n-1]=t,n-1-e}returnToList(e,t){let n=this.pieces[e];this.pieces[e]=this.pieces[e+t],this.pieces[e+t]=n,this.pieces[e].amount++}isValid(){if(0==this.middle.length)return!0;let e=0;for(let t of this.middle)this.board[t.y][t.x]>0&&this.board[t.y][t.x]<=this.pieceLength&&e++;this.valid=e!=this.middle.length}isPlaceable(e,t){if(!t)return!1;for(let n of t.pointShape){let r,i;if([r,i]=this.determinePoint(e,t,n),i>=this.board.length||i<0||r>=this.board[0].length||r<0||0!=this.board[i][r])return!1}return!0}placePiece(e,t){let n=[];for(let i of t.pointShape){let o,s;[o,s]=this.determinePoint(e,t,i),i.isMiddle?this.board[s][o]=t.id+18:this.board[s][o]=t.id,n.push(new r(o,s));for(let e=0;e<this.restrictedSpots.length;e++)this.restrictedSpots[e].x==o&&this.restrictedSpots[e].y==s&&(this.restrictedSpots.splice(e,1),e--);for(let e=0;e<this.longSpaces.length;e++)this.longSpaces[e].x==o&&this.longSpaces[e].y==s&&(this.longSpaces.splice(e,1),e--);0==this.longSpaces.length&&(this.firstAlgorithm=!1)}for(let e of n)this.searchSurroundings(e.x,e.y+1),this.searchSurroundings(e.x,e.y-1),this.searchSurroundings(e.x+1,e.y),this.searchSurroundings(e.x-1,e.y);let i=[];for(let e=0;e<this.restrictedSpots.length-1;e++)for(let t=e+1;t<this.restrictedSpots.length;t++)this.restrictedSpots[e].x==this.restrictedSpots[t].x&&this.restrictedSpots[e].y==this.restrictedSpots[t].y&&i.push(e);for(let e=i.length-1;e>=0;e--)this.restrictedSpots.splice(i[e],1);this.restrictedSpots.sort((e,t)=>t.spotsFilled-e.spotsFilled)}takeBackPiece(e,t){for(let n of t.pointShape){let r,i;[r,i]=this.determinePoint(e,t,n),this.board[i][r]=0}}searchSurroundings(e,t){let n=0;this.board[t]&&0==this.board[t][e]&&(this.board[t+1]&&0==this.board[t+1][e]&&n++,this.board[t-1]&&0==this.board[t-1][e]&&n++,this.board[t]&&0==this.board[t][e+1]&&n++,this.board[t]&&0==this.board[t][e-1]&&n++,n<=1&&this.restrictedSpots.push(new g(e,t,4-n)))}checkLongSpace(e,t){return this.board[t+1]&&0==this.board[t+1][e]&&this.board[t-1]&&0==this.board[t-1][e]&&this.board[t]&&0!=this.board[t][e+1]&&this.board[t]&&0!=this.board[t][e-1]?"vertical":this.board[t+1]&&0!=this.board[t+1][e]&&this.board[t-1]&&0!=this.board[t-1][e]&&this.board[t]&&0==this.board[t][e+1]&&this.board[t]&&0==this.board[t][e-1]?"horizontal":void 0}changeIndex(e){e?this.restrictedTransformationNumber<this.pieces[this.restrictedPieceNumber].restrictedTransformations.length-1?this.restrictedTransformationNumber++:(this.restrictedPieceNumber++,this.restrictedTransformationNumber=0):this.transformationNumber<this.pieces[this.pieceNumber].transformations.length-1?this.transformationNumber++:(this.pieceNumber++,this.transformationNumber=0)}determineDirectionFree(e){this.board[e.y-1]&&0==this.board[e.y-1][e.x]?this.directionFree=1:this.board[e.y]&&0==this.board[e.y][e.x+1]?this.directionFree=2:this.board[e.y+1]&&0==this.board[e.y+1][e.x]?this.directionFree=3:this.board[e.y]&&0==this.board[e.y][e.x-1]?this.directionFree=4:this.directionFree=5}determinePoint(e,t,n){let r,i;return 0==this.directionFree||3==this.directionFree||5==this.directionFree?(r=e.x+n.x-t.offCenter,i=e.y+n.y):1==this.directionFree?(r=e.x-n.x+t.offCenter,i=e.y-n.y):2==this.directionFree?(r=e.x+n.y,i=e.y+n.x-t.offCenter):(r=e.x-n.y,i=e.y-n.x+t.offCenter),[r,i]}pause(){this.time-=(new Date).getTime(),0!=this.iterations&&(document.getElementById("iterations").style.visibility="visible",document.getElementById("iterationsValue").innerText=""+this.iterations,document.getElementById("time").style.visibility="visible",document.getElementById("timeValue").innerText=-this.time+"ms"),this.pausePromise=new Promise(e=>this.pauseResolve=e)}continue(){this.time+=(new Date).getTime(),document.getElementById("iterations").style.visibility="hidden",document.getElementById("time").style.visibility="hidden",this.pauseResolve(),this.pausePromise=null}stop(){this.shouldStop=!0}}class g extends r{constructor(e,t,n){super(e,t),this.spotsFilled=n}}var u={GMS:{title:"Legion Solver",instructions:"Instructions:",instructionsSub1:"1. Click the grid spaces you want to be filled, the region click will help you fill it in faster.",instructionsSub2:"2. Input the amount of each shape you want to be filled in the board.",instructionsSub3:"3. The space that the pieces take up should equal the amount of grid spaces you filled, although the program will still try to run otherwise.",instructionsSub4:"4. When you press Start the program will try to fill the board spaces with the pieces you've chosen, click on Live Solve if you want to see the board filled in real time.",spacesToBeFilled:"Spaces to be Filled: ",boardSpacesFilled:"Board Spaces Filled: ",iterations:"Iterations: ",time:"Time: ",bigClick:"Region Click",liveSolve:"Live Solve",darkMode:"Dark Mode",start:"Start",pause:"Pause",continue:"Continue",reset:"Reset",clearPieces:"Clear Pieces",clearBoard:"Clear Board",failText:"No Solution Found",lvl60:"Lvl 60",lvl100:"Lvl 100",warriorPirate140:"Lvl 140 Warrior/Pirate",mageThiefArcher140:"Lvl 140 Mage/Thief/Archer/Xenon",warrior200:"Lvl 200 Warrior",archer200:"Lvl 200 Archer",thiefLab200:"Lvl 200 Thief/Lab",mage200:"Lvl 200 Mage",pirate200:"Lvl 200 Pirate",warrior250:"Lvl 250 Warrior",archer250:"Lvl 250 Archer",thief250:"Lvl 250 Thief",mage250:"Lvl 250 Mage",pirate250:"Lvl 250 Pirate",xenon250:"Lvl 250 Xenon",enhancedLab200:"Lvl 200 Enhanced Lab",enhancedLab250:"Lvl 250 Enhanced Lab",lab250:"Lvl 250 Lab"},KMS:{title:"유니온 지도 메이커",instructions:"설명:",instructionsSub1:"1. 유니온 지도를 더 빨리 채우려면 지역 선택을 활성화해 줍니다.",instructionsSub2:"2. 유니온 지도에 채우려는 직업별 모양의 양을 입력해 줍니다.",instructionsSub3:"3. 산정된 공간은 선택된 공간의 양과 같아야 하며 같지 않다면 프로그램은 계속 반복 실행할 겁니다.",instructionsSub4:"4. 프로그램이 루트를 찾고 있을 때 해당 과정을 보고 싶다면 실시간 보기를 활성화해 줍니다.",spacesToBeFilled:"유니온 캐릭터 산정된 공간: ",boardSpacesFilled:"유니온 지도 선택된 공간: ",iterations:"반복횟수: ",time:"소요시간: ",bigClick:"지역선택",liveSolve:"실시간 보기",darkMode:"다크모드",start:"시작",pause:"Pause",continue:"Continue",reset:"리셋",clearPieces:"캐릭터 초기화",clearBoard:"유니온 지도 초기화",failText:"루트를 찾지 못했습니다.",lvl60:"Lvl 60",lvl100:"Lvl 100",warriorPirate140:"Lvl 140 전사/해적",mageThiefArcher140:"Lvl 140 마법사/도적/궁수/메이플M(S)",warrior200:"Lvl 200 전사",archer200:"Lvl 200 궁수/메이플M(SS)",thiefLab200:"Lvl 200 도적/Lab",mage200:"Lvl 200 마법사",pirate200:"Lvl 200 해적",warrior250:"Lvl 250 전사",archer250:"Lvl 250 궁수",thief250:"Lvl 250 도적",mage250:"Lvl 250 마법사",pirate250:"Lvl 250 해적",xenon250:"Lvl 250 제논",enhancedLab200:"Lvl 200 Enhanced Lab",enhancedLab250:"Lvl 250 Enhanced Lab",lab250:"Lvl 250 Lab"}};let m=b();function b(){return localStorage.getItem("i18n")||"GMS"}function f(e){return u[m][e]}function y(e,t){const n=[],r=/^\s*$/;return function e(i){if(3==i.nodeType)!t&&r.test(i.nodeValue)||n.push(i);else for(var o=0,s=i.childNodes.length;o<s;++o)e(i.childNodes[o])}(e),n}document.getElementById("title").textContent=f("title"),y(document.getElementById("instructions"))[0].textContent=f("instructions"),y(document.getElementById("paragraph"))[0].textContent=f("instructionsSub1"),y(document.getElementById("paragraph"))[1].textContent=f("instructionsSub2"),y(document.getElementById("paragraph"))[2].textContent=f("instructionsSub3"),y(document.getElementById("paragraph"))[3].textContent=f("instructionsSub4"),y(document.getElementById("currentPieces"))[0].textContent=f("spacesToBeFilled"),y(document.getElementById("boardFilled"))[0].textContent=f("boardSpacesFilled"),y(document.getElementById("iterations"))[0].textContent=f("iterations"),y(document.getElementById("time"))[0].textContent=f("time"),document.querySelector('label[for="bigClick"]').textContent=f("bigClick"),document.querySelector('label[for="liveSolve"]').textContent=f("liveSolve"),document.querySelector('label[for="darkMode"]').textContent=f("darkMode"),document.getElementById("boardButton").textContent=f("start"),document.getElementById("resetButton").textContent=f("reset"),document.getElementById("clearPieces").textContent=f("clearPieces"),document.getElementById("clearBoard").textContent=f("clearBoard"),document.getElementById("failText").textContent=f("failText"),document.getElementById("languageSelectBox").addEventListener("change",(function(){localStorage.setItem("i18n",this.value),location.reload()})),document.getElementById(m).selected=!0;const x=[[[2]],[[2,2]],[[1,0],[2,1]],[[1,2,1]],[[2,2],[2,2]],[[1,2,2,1]],[[1,0,0],[1,2,1]],[[0,1,0],[1,2,1]],[[1,2,0],[0,2,1]],[[1,1,2],[0,1,1]],[[1,1,2,1,1]],[[0,0,1],[1,2,1],[0,0,1]],[[0,1,0],[1,2,1],[0,1,0]],[[1,2,0,0],[0,1,1,1]],[[1,1,0],[0,2,0],[0,1,1]]],v=[[[1,0,0,0],[0,1,2,1]],[[1,0,0,0,1],[0,1,2,1,0]],[[1,0,1],[1,2,1]]],S=[];for(let e of x)S.push(d.createPiece(e,0));if("GMS"==b())for(let e of v)S.push(d.createPiece(e,0));let B=new Map;B.set(-1,"grey"),B.set(0,"rgb(50, 50, 50)");for(let e=0;e<2;e++)B.set(1+18*e,"lightpink"),B.set(2+18*e,"lightcoral"),B.set(3+18*e,"indianred"),B.set(4+18*e,"darkseagreen"),B.set(5+18*e,"firebrick"),B.set(6+18*e,"mediumseagreen"),B.set(7+18*e,"purple"),B.set(8+18*e,"dodgerblue"),B.set(9+18*e,"lightsteelblue"),B.set(10+18*e,"maroon"),B.set(11+18*e,"green"),B.set(12+18*e,"indigo"),B.set(13+18*e,"blue"),B.set(14+18*e,"cadetblue"),B.set(15+18*e,"mediumpurple"),B.set(16+18*e,"aquamarine"),B.set(17+18*e,"aquamarine"),B.set(18+18*e,"aquamarine");for(let e=0;e<S.length;e++){let t=`<tr>${'<td class="pieceCell" style="background: #2a2e33;"></td>'.repeat(S[e].shape[0].length)}</tr>`.repeat(S[e].shape.length);document.querySelector("#pieceForm form").innerHTML+=`<div class="piece">\n        <div id="pieceDescription${e+1}" style="padding-right: 15px;width: 8em;"></div>\n        <label for="piece${e+1}" class='pieceLabel'>\n            <table id="pieceDisplay${e+1}">\n                <tbody>${t}</tbody>\n            </table>\n        </label>\n        <input class="form-control" id="piece${e+1}" type="number" min=0 value=0>\n    </div>`,document.getElementById("pieceDisplay"+(e+1)).style.borderCollapse="collapse",document.getElementById("pieceDisplay"+(e+1)).style.borderSpacing="0",document.getElementById("pieceDescription"+(e+1)).style.paddingRight="15px";for(let t=0;t<S[e].shape.length;t++)for(let n=0;n<S[e].shape[t].length;n++)0!=S[e].shape[t][n]&&(document.getElementById("pieceDisplay"+(e+1)).getElementsByTagName("tr")[t].getElementsByTagName("td")[n].style.background=B.get(e+1))}document.getElementById("pieceDescription1").textContent=f("lvl60"),document.getElementById("pieceDescription2").textContent=f("lvl100"),document.getElementById("pieceDescription3").textContent=f("warriorPirate140"),document.getElementById("pieceDescription4").textContent=f("mageThiefArcher140"),document.getElementById("pieceDescription5").textContent=f("warrior200"),document.getElementById("pieceDescription6").textContent=f("archer200"),document.getElementById("pieceDescription7").textContent=f("thiefLab200"),document.getElementById("pieceDescription8").textContent=f("mage200"),document.getElementById("pieceDescription9").textContent=f("pirate200"),document.getElementById("pieceDescription10").textContent=f("warrior250"),document.getElementById("pieceDescription11").textContent=f("archer250"),document.getElementById("pieceDescription12").textContent=f("thief250"),document.getElementById("pieceDescription13").textContent=f("mage250"),document.getElementById("pieceDescription14").textContent=f("pirate250"),document.getElementById("pieceDescription15").textContent=f("xenon250"),"GMS"==b()&&(document.getElementById("pieceDescription16").textContent=f("enhancedLab200"),document.getElementById("pieceDescription17").textContent=f("enhancedLab250"),document.getElementById("pieceDescription18").textContent=f("lab250"));let I=0;localStorage.getItem("currentPieces")&&(I=JSON.parse(localStorage.getItem("currentPieces")),document.getElementById("currentPiecesValue").innerText=""+I);let k=JSON.parse(localStorage.getItem("pieceAmounts"));if(k){for(let e=0;e<S.length;e++)document.getElementById("piece"+(e+1)).value=k[e]||0;w()}function w(){for(let e of S)e.amount=parseInt(document.getElementById("piece"+e.id).value)||0;I=Object(a.sumBy)(S,e=>e.cellCount*e.amount),localStorage.setItem("pieceAmounts",JSON.stringify(S.map(e=>e.amount))),localStorage.setItem("currentPieces",JSON.stringify(I)),document.getElementById("currentPiecesValue").innerText=""+I;var e=S.map(e=>e.amount).reduce((e,t)=>e+t,0);localStorage.setItem("assigned_attackers",JSON.stringify(e)),document.getElementById("attackersAssignedValue").innerText=""+e}function E(e){for(var t=0;t<e.length;){var n=e[t].x,r=e[t].y;if(0==C[n][r])return!1;t++}return!0}function L(e,t,n){var r=JSON.parse(localStorage.getItem("layersUnlocked")),i={0:{row_span:[5,14],col_span:[5,16]},1:{row_span:[4,15],col_span:[4,17]},2:{row_span:[3,16],col_span:[3,18]},3:{row_span:[2,17],col_span:[2,19]},4:{row_span:[1,18],col_span:[1,20]},5:{row_span:[0,19],col_span:[0,21]}}[parseInt(r)];return!(e<i.row_span[0]||e>i.row_span[1]||t<i.col_span[0]||t>i.col_span[1])&&(t-1>=0&&n==W(e,t-1)&&0==C[e][t-1]||(t+1<=21&&n==W(e,t+1)&&0==C[e][t+1]||(e+1<=19&&n==W(e+1,t)&&0==C[e+1][t]||e-1>=0&&n==W(e-1,t)&&0==C[e-1][t])))}document.getElementById("pieceForm").addEventListener("input",(function(){w()})),document.getElementById("clearPieces").addEventListener("click",(function(){for(let e=0;e<S.length;e++)document.getElementById("piece"+(e+1)).value=0;w()})),document.getElementById("disableBoard").addEventListener("click",(function(){})),document.getElementById("result").addEventListener("DOMSubtreeModified",(function(){"Step 3/6. Building Legion Board..."==document.getElementById("result").innerHTML&&(!function(e,t,n,r,i,o){C=[];for(let e=0;e<20;e++){C[e]=[];for(let t=0;t<22;t++)C[e][t]=-1}J=0,localStorage.setItem("legionBoard",JSON.stringify(C)),localStorage.setItem("boardFilled",JSON.stringify(0)),z();var s=0!=r;!function(e){var t=10;e>0&&(t=9);var n=5;for(;n<17;)V(t,n,0),n++}(s);var a=e/5-5,l=t-5,d=[r,2*i,n,o],c=[{x:9,y:17},{x:9,y:4},{x:10,y:4},{x:10,y:17}],h=[a,l],p=[{x:9,y:5},{x:9,y:13}];if(!s)h=[a,l],p=[{x:10,y:5},{x:10,y:13}];var g=0;for(;g<2;){if(0==g)var u=h,m=p;else u=d,m=c;for(var b=0;b<u.length;){for(var f=W(m[b].x,m[b].y),y=M[f],x=0,v=0;v<u[b];){var S=y[x].x,B=y[x].y;0!=C[S][B]&&(E(y)?(V(m[b].x,m[b].y,0),v++):L(S,B,f)&&(V(S,B,0),v++)),++x==y.length&&(x=0)}b++}g++}}(parseInt(JSON.parse(localStorage.getItem("board_stat"))),parseInt(JSON.parse(localStorage.getItem("board_attack"))),parseFloat(JSON.parse(localStorage.getItem("board_ied"))),parseInt(JSON.parse(localStorage.getItem("legion_crit_blocks"))),parseFloat(JSON.parse(localStorage.getItem("board_cdmg"))),parseInt(JSON.parse(localStorage.getItem("board_boss")))),document.getElementById("result").innerHTML="Step 4/6. Solving Legion Board...",G())}));let C=[];for(let e=0;e<20;e++){C[e]=[];for(let t=0;t<22;t++)C[e][t]=-1}let T=[];const N="start",P="running",F="paused",D="completed";let O=N;const M=[];for(let e=0;e<16;e++)M[e]=[];document.querySelector("#legionBoard tbody").innerHTML=C.map(e=>`<tr>${e.map(e=>'<td class="legionCell"></td>').join("")}</tr>`).join(""),function(){for(let e=0;e<C[0].length/2;e++)j(e,e).style.borderTopWidth="3px",j(e,e).style.borderRightWidth="3px",j(C.length-e-1,e).style.borderBottomWidth="3px",j(C.length-e-1,e).style.borderRightWidth="3px",j(e,C[0].length-e-1).style.borderTopWidth="3px",j(e,C[0].length-e-1).style.borderLeftWidth="3px",j(C.length-e-1,C[0].length-e-1).style.borderBottomWidth="3px",j(C.length-e-1,C[0].length-e-1).style.borderLeftWidth="3px";for(let e=0;e<C.length;e++)j(e,0).style.borderLeftWidth="3px",j(e,C[0].length/2).style.borderLeftWidth="3px",j(e,C[0].length-1).style.borderRightWidth="3px";for(let e=0;e<C[0].length;e++)j(0,e).style.borderTopWidth="3px",j(C.length/2,e).style.borderTopWidth="3px",j(C.length-1,e).style.borderBottomWidth="3px";for(let e=C.length/4;e<3*C.length/4;e++)j(e,Math.floor(C[0].length/4)).style.borderLeftWidth="3px",j(e,Math.floor(3*C[0].length/4)).style.borderRightWidth="3px";for(let e=Math.ceil(C[0].length/4);e<Math.floor(3*C[0].length/4);e++)j(C.length/4,e).style.borderTopWidth="3px",j(3*C.length/4,e).style.borderTopWidth="3px"}(),function(){for(let e=0;e<C.length/4;e++)for(let t=e;t<C.length/2;t++)M[0].push(new r(t,e)),M[1].push(new r(e,t+1)),M[2].push(new r(e,C[0].length-2-t)),M[3].push(new r(t,C[0].length-1-e)),M[4].push(new r(C.length-1-t,C[0].length-1-e)),M[5].push(new r(C.length-1-e,C[0].length-2-t)),M[6].push(new r(C.length-1-e,t+1)),M[7].push(new r(C.length-1-t,e));for(let e=C.length/4;e<C.length/2;e++)for(let t=e;t<C.length/2;t++)M[8].push(new r(t,e)),M[9].push(new r(e,t+1)),M[10].push(new r(3*C.length/4-1-t,C.length/4+1+e)),M[11].push(new r(t,C[0].length-1-e)),M[12].push(new r(C.length-1-t,C[0].length-1-e)),M[13].push(new r(t+C.length/4,e+C.length/4+1)),M[14].push(new r(t+C.length/4,3*C.length/4-e)),M[15].push(new r(C.length-t-1,e))}(),R();let J=0;localStorage.getItem("boardFilled")&&(J=JSON.parse(localStorage.getItem("boardFilled")),document.getElementById("boardFilledValue").innerText=""+J);let A=!1;function W(e,t){for(let n=0;n<M.length;n++)for(let r of M[n])if(r.x==e&&r.y==t)return n}function j(e,t){return document.getElementById("legionBoard").getElementsByTagName("tr")[e].getElementsByTagName("td")[t]}function V(e,t,n){if(O==N){if(A)if(0==n)for(let n of M[W(e,t)]){j(n.x,n.y).style.background=B.get(0),-1==C[n.x][n.y]&&J++,C[n.x][n.y]=0}else for(let n of M[W(e,t)]){j(n.x,n.y).style.background=B.get(-1),0==C[n.x][n.y]&&J--,C[n.x][n.y]=-1}else{let r=j(e,t);-1==n?-1!=C[e][t]&&(C[e][t]=-1,r.style.background=B.get(-1),J--):0!=C[e][t]&&(C[e][t]=0,r.style.background=B.get(0),J++)}localStorage.setItem("legionBoard",JSON.stringify(C)),localStorage.setItem("boardFilled",JSON.stringify(J)),document.getElementById("boardFilledValue").innerText=""+J}}function z(){for(let e=0;e<T.length;e++)for(let t=0;t<T[e].board.length;t++)for(let n=0;n<T[e].board[0].length;n++)0==e?T[e].board[t][n]>=0&&(j(t,n).style.background=B.get(0),T[e].board[t][n]=0):T[e].board[t][n]>=0&&(T[e].board[t][n]=0);T=[]}function R(){let e;for(let t=0;t<C.length;t++)for(let n=0;n<C[0].length;n++)e=C[t][n],j(t,n).style.background=B.get(e)}function q(){A=!A,localStorage.setItem("isBigClick",JSON.stringify(A))}function H(){O!=D&&R()}function $(){z(),document.getElementById("clearBoard").disabled=!1,document.getElementById("boardButton").innerText=f("start"),document.getElementById("resetButton").style.visibility="hidden",document.getElementById("iterations").style.visibility="hidden",document.getElementById("time").style.visibility="hidden",document.getElementById("failText").style.visibility="hidden",O=N}async function G(){if(H(),0==J&&currentPieces>0)return console.log("run solver stopping"),!1;let e=[];for(let t=0;t<C.length;t++){e[t]=[];for(let n=0;n<C[0].length;n++)e[t][n]=C[C.length-1-t][C[0].length-1-n]}let t=[];for(let e=0;e<C[0].length;e++){t[e]=[];for(let n=0;n<C.length;n++)t[e][n]=C[C.length-n-1][e]}let n=[];for(let e=0;e<C[0].length;e++){n[e]=[];for(let t=0;t<C.length;t++)n[e][t]=C[t][C[0].length-1-e]}T.push(new p(C,_.cloneDeep(S),U)),T.push(new p(t,_.cloneDeep(S),()=>!1)),T.push(new p(e,_.cloneDeep(S),()=>!1)),T.push(new p(n,_.cloneDeep(S),()=>!1));let r=0!=T[0].longSpaces.length;const i=T[0].solve();let o,s;if(r){const e=T[1].solve(),t=T[2].solve(),n=T[3].solve();o=await Promise.race([i,e,t,n])}else o=await i;for(let e of T)e.stop();if(void 0!==T[0].success){for(let e=0;e<T[0].board.length;e++)for(let t=0;t<T[0].board[0].length;t++)C[e][t]=T[0].board[e][t];s=T[0]}else if(void 0!==T[1].success){for(let e=0;e<T[1].board[0].length;e++)for(let t=0;t<T[1].board.length;t++)C[e][t]=T[1].board[t][T[1].board[0].length-1-e];s=T[1]}else if(void 0!==T[2].success){for(let e=0;e<T[2].board.length;e++)for(let t=0;t<T[2].board[0].length;t++)C[e][t]=T[2].board[T[2].board.length-1-e][T[2].board[0].length-1-t];s=T[2]}else if(void 0!==T[3].success){for(let e=0;e<T[3].board[0].length;e++)for(let t=0;t<T[3].board.length;t++)C[e][t]=T[3].board[T[3].board.length-t-1][e];s=T[3]}return document.getElementById("iterations").style.visibility="visible",document.getElementById("iterationsValue").innerText=""+s.iterations,document.getElementById("time").style.visibility="visible",document.getElementById("timeValue").innerText=(new Date).getTime()-s.time+"ms",o&&(R(),document.getElementById("result").innerHTML="Step 5/6. Configuring Hyper Stats..."),o}function U(){R()}function X(e){if(e<0)return"error";legion;var t=500*Math.floor(e/500);t>1e4&&(t=1e4);var n={500:9,1e3:10,1500:11,2e3:12,2500:13,3e3:18,3500:19,4e3:20,4500:21,5e3:22,5500:27,6e3:28,6500:29,7e3:30,7500:31,8e3:36,8500:37,9e3:38,9500:39,1e4:40}[t],r=1e3*Math.floor(e/1e3);r>6e3&&(r=6e3);var i={1e3:[0,0],2e3:[6,1],3e3:[13,2],4e3:[21,3],5e3:[30,4],6e3:[40,5]},o=i[r][0],s=i[r][1];return localStorage.setItem("blocksPerStat",JSON.stringify(o)),localStorage.setItem("layersUnlocked",JSON.stringify(s)),{number_of_attackers:n,blocks_per_stat:o,layers_unlocked:s}}localStorage.getItem("isBigClick")&&(document.getElementById("bigClick").checked=JSON.parse(localStorage.getItem("isBigClick")),JSON.parse(localStorage.getItem("isBigClick"))&&q()),document.getElementById("bigClick").addEventListener("click",q),document.getElementById("liveSolve").addEventListener("click",H),document.getElementById("clearBoard").addEventListener("click",(function(){for(let e=0;e<C.length;e++)for(let t=0;t<C[0].length;t++)C[e][t]=-1,j(e,t).style.background=B.get(C[e][t]);J=0,localStorage.setItem("legionBoard",JSON.stringify(C)),localStorage.setItem("boardFilled",JSON.stringify(0)),document.getElementById("boardFilledValue").innerText=""+J})),document.getElementById("boardButton").addEventListener("click",(async function(e){if(O==N){e.target.innerText=f("pause"),document.getElementById("clearBoard").disabled=!0,O=P,await G()||(document.getElementById("failText").style.visibility="visible"),e.target.innerText=f("reset"),O=D}else if(O==P){e.target.innerText=f("continue");for(let e of T)e.pause();O=F,document.getElementById("resetButton").style.visibility="visible"}else if(O==F){e.target.innerText=f("pause");for(let e of T)e.continue();O=P,document.getElementById("resetButton").style.visibility="hidden"}else O==D&&$()})),document.getElementById("resetButton").addEventListener("click",$),document.getElementById("darkMode").addEventListener("click",(function(){let e,t;t="white",B.set(-1,"grey"),B.set(0,"rgb(50, 50, 50)"),R();for(let t=0;t<C.length;t++)for(let n=0;n<C[0].length;n++)e=j(t,n),"white"!=e.style.borderTopColor&&(e.style.borderTopColor="white"),"white"!=e.style.borderBottomColor&&(e.style.borderBottomColor="white"),"white"!=e.style.borderRightColor&&(e.style.borderRightColor="white"),"white"!=e.style.borderLeftColor&&(e.style.borderLeftColor="white")})),document.getElementById("legionLevel").addEventListener("change",(function(){var e=document.getElementById("legionLevel").value;localStorage.setItem("legion_level",JSON.stringify(e));var t=X(e);if(parseInt(document.getElementById("hasLab").value)>0)var n=parseInt(document.getElementById("hasLab").value),r=t.number_of_attackers+" (+"+n+" free Lab piece)";else r=t.number_of_attackers;localStorage.setItem("total_attackers",JSON.stringify(r)),document.getElementById("totalAttackersValue").innerText=""+r})),document.getElementById("critBonus").addEventListener("change",(function(){if(parseInt(document.getElementById("critBonus").value)>=0){var e=parseInt(document.getElementById("critBonus").value)+parseInt(document.getElementById("critRate").innerHTML);document.getElementById("current_crit_bonus").value=e}})),document.getElementById("hasLab").addEventListener("change",(function(){var e=X(document.getElementById("legionLevel").value);if(parseInt(document.getElementById("hasLab").value)>0)var t=parseInt(document.getElementById("hasLab").value),n=e.number_of_attackers+" (+"+t+" free Lab piece)";else n=e.number_of_attackers;localStorage.setItem("total_attackers",JSON.stringify(n)),document.getElementById("totalAttackersValue").innerText=""+n})),document.getElementById("critRateSelect").addEventListener("change",(function(){var e=parseInt(document.getElementById("critBonus").value)+parseInt(document.getElementById("critRate").innerHTML);document.getElementById("current_crit_bonus").value=e})),document.addEventListener("DOMContentLoaded",(function(){}))}},[["Vtdi",1,2]]]);